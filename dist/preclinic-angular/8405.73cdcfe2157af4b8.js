"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[8405],{78405:(E,v,o)=>{o.r(v),o.d(v,{CalendarAppointmentModule:()=>Q});var p=o(36895),c=o(30027),t=o(94650);let g=(()=>{const e=class{};let n=e;return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-calendar-appointment"]],decls:1,vars:0,template:function(a,l){1&a&&t._UZ(0,"router-outlet")},dependencies:[c.lC]}),n})();var f=o(46382),Z=o(5911),A=o(80821),C=o(77552),y=o(74742),b=o(3564),m=o(80529),T=o(75862),M=o(40866);let D=(()=>{const e=class{constructor(i,a){this.http=i,this.authSrv=a}calendarAppointment(i="",a="",l=""){let u=new m.WM({Authorization:"Bearer "+this.authSrv.token}),d="";return""!=i&&(d+="&search_doctor="+i),""!=a&&(d+="&search_patient="+a),""!=l&&(d+="&specialitie_id="+l),this.http.get(T.$g+"/appointment/calendar?"+d,{headers:u})}};let n=e;return e.\u0275fac=function(a){return new(a||e)(t.LFG(m.eN),t.LFG(M.e))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();var r=o(24006),x=o(84385),J=o(3238),U=o(79476);function F(n,e){if(1&n){const s=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"label"),t._uU(3,"Doctor Name "),t.qZA(),t.TgZ(4,"input",30),t.NdJ("ngModelChange",function(a){t.CHM(s);const l=t.oxw();return t.KtG(l.searchDataDoctorValue=a)}),t.qZA()()()}if(2&n){const s=t.oxw();t.xp6(4),t.Q6J("ngModel",s.searchDataDoctorValue)}}function S(n,e){if(1&n&&(t.TgZ(0,"mat-option",33),t._uU(1),t.qZA()),2&n){const s=e.$implicit;t.Q6J("value",s.id),t.xp6(1),t.hij(" ",s.name," ")}}const P=function(){return{standalone:!0}};function N(n,e){if(1&n){const s=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"label"),t._uU(3,"Specialities "),t.qZA(),t.TgZ(4,"mat-select",31),t.NdJ("ngModelChange",function(a){t.CHM(s);const l=t.oxw();return t.KtG(l.specialitie_value=a)}),t.YNc(5,S,2,2,"mat-option",32),t.qZA()()()}if(2&n){const s=t.oxw();t.xp6(4),t.Q6J("ngModel",s.specialitie_value)("ngModelOptions",t.DdM(3,P)),t.xp6(1),t.Q6J("ngForOf",s.specialities)}}const O=[{path:"",component:g,children:[{path:"appointments",component:(()=>{const e=class{constructor(i,a,l){this.data=i,this.appointmentPaysSrv=a,this.calendarSrv=l,this.routes=f._,this.events=[],this.searchDataDoctorValue="",this.searchDataPatientValue="",this.specialitie_value="",this.specialities=[],this.options={plugins:[C.Z,Z.Z,A.ZP],initialDate:new Date,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,events:[{title:"Meeting",start:new Date}]}}ngOnInit(){this.appointmentPaysSrv.config().subscribe(i=>{this.specialities=i.specialities}),this.user=this.appointmentPaysSrv.authSrv.user,this.calendarAppointment()}isPermited(){let i=!1;return this.user.role.forEach(l=>{"DOCTOR"==l.toUpperCase()&&(i=!0)}),i}calendarAppointment(){this.calendarSrv.calendarAppointment(this.searchDataDoctorValue,this.searchDataPatientValue,this.specialitie_value).subscribe(i=>{this.events=i.appointment,this.options={...this.options,events:i.appointment},console.log(this.events)})}filter(){this.calendarAppointment()}test(){console.log("ENTRMAMOS")}};let n=e;return e.\u0275fac=function(a){return new(a||e)(t.Y36(y.D),t.Y36(b.E),t.Y36(D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-appointment-calendar"]],decls:44,vars:4,consts:[[1,"page-wrapper"],[1,"content"],[1,"row"],[1,"col-sm-8","col-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#","onclick","return false; "],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"col-12","col-md-6","col-xl-3"],[1,"form-group","local-forms"],["name","name_patient","id","name_patient","type","text",1,"form-control",3,"ngModel","ngModelChange"],["class","col-12 col-md-6 col-xl-3",4,"ngIf"],[1,"doctor-submit"],["type","submit",1,"btn","btn-primary","submit-list-form","me-2",3,"click"],[1,"col-lg-12"],[1,"card-box","mb-0"],[1,"col-md-12"],["id","calendar",1,"full-cal"],[3,"options"],["id","event-modal",1,"modal","fade","none-border"],[1,"modal-dialog"],[1,"modal-content","modal-md"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"modal-footer","text-center"],["type","button",1,"btn","btn-primary","submit-btn","save-event"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","btn-lg","delete-event"],["name","name_doctor","id","name_doctor","type","text",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Select Specialitie",1,"form-control","select",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,l){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),t._uU(7,"Appointment "),t.qZA()(),t.TgZ(8,"li",5),t._UZ(9,"i",7),t.qZA(),t.TgZ(10,"li",8),t._uU(11,"Calendar"),t.qZA()()()(),t.TgZ(12,"div",2)(13,"div",9)(14,"div",10)(15,"label"),t._uU(16,"Patient Name "),t.qZA(),t.TgZ(17,"input",11),t.NdJ("ngModelChange",function(h){return l.searchDataPatientValue=h}),t.qZA()()(),t.YNc(18,F,5,1,"div",12),t.YNc(19,N,6,4,"div",12),t.TgZ(20,"div",9)(21,"div",13)(22,"button",14),t.NdJ("click",function(){return l.filter()}),t._uU(23,"Search"),t.qZA()()()(),t.TgZ(24,"div",2)(25,"div",15)(26,"div",16)(27,"div",2)(28,"div",17)(29,"div",18),t._UZ(30,"full-calendar",19),t.qZA()()()(),t.TgZ(31,"div",20)(32,"div",21)(33,"div",22)(34,"div",23)(35,"h4",24),t._uU(36,"Add Event"),t.qZA(),t._UZ(37,"button",25),t.qZA(),t._UZ(38,"div",26),t.TgZ(39,"div",27)(40,"button",28),t._uU(41,"Create event"),t.qZA(),t.TgZ(42,"button",29),t._uU(43,"Delete"),t.qZA()()()()()()()()()),2&a&&(t.xp6(17),t.Q6J("ngModel",l.searchDataPatientValue),t.xp6(1),t.Q6J("ngIf",!l.isPermited()),t.xp6(1),t.Q6J("ngIf",!l.isPermited()),t.xp6(11),t.Q6J("options",l.options))},dependencies:[p.sg,p.O5,r.Fj,r.JJ,r.On,x.gD,J.ey,U.w]}),n})()}]}];let V=(()=>{const e=class{};let n=e;return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(O),c.Bz]}),n})();var G=o(25108);let Q=(()=>{const e=class{};let n=e;return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,V,r.u5,r.UX,m.JF,c.Bz,G.m]}),n})()}}]);