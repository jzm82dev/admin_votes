"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[9738],{89738:(F,f,e)=>{e.r(f),e.d(f,{NewPasswordModule:()=>k});var l=e(36895),c=e(30027),m=e(46382),n=e(24006),s=e(94650),u=e(33210),g=e(43893);function w(o,i){1&o&&(s.TgZ(0,"div"),s._uU(1," Contrase\xf1a es obligatoria. "),s.qZA())}function v(o,i){if(1&o&&(s.TgZ(0,"div",28),s.YNc(1,w,2,0,"div",29),s.qZA()),2&o){const t=s.oxw(2);s.xp6(1),s.Q6J("ngIf",t.f.password.errors&&t.f.password.errors.required)}}function h(o,i){1&o&&(s.TgZ(0,"div"),s._uU(1," Confirma Contrase\xf1a es obligatoria. "),s.qZA())}function C(o,i){if(1&o&&(s.TgZ(0,"div",30),s.YNc(1,h,2,0,"div",29),s.qZA()),2&o){const t=s.oxw(2);s.xp6(1),s.Q6J("ngIf",t.f.confirmPassword.errors&&t.f.confirmPassword.errors.required)}}function _(o,i){1&o&&(s.TgZ(0,"div",30),s._uU(1," Contrase\xf1as no coinciden "),s.qZA())}const p=function(o){return{"is-invalid":o}};function x(o,i){if(1&o){const t=s.EpF();s.TgZ(0,"form",17),s.NdJ("ngSubmit",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.submit())}),s.TgZ(1,"div",18)(2,"label"),s._uU(3,"Nueva contrase\xf1a "),s.TgZ(4,"span",19),s._uU(5,"*"),s.qZA()(),s._UZ(6,"input",20),s.YNc(7,v,2,1,"div",21),s.TgZ(8,"span",22),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.passwordFunc())}),s.qZA()(),s.TgZ(9,"div",18)(10,"label"),s._uU(11,"Confirma Contrase\xf1a "),s.TgZ(12,"span",19),s._uU(13,"*"),s.qZA()(),s._UZ(14,"input",23),s.YNc(15,C,2,1,"div",24),s.YNc(16,_,2,0,"div",24),s.TgZ(17,"span",25),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.confirmPasswordFunc())}),s.qZA()(),s.TgZ(18,"div",26)(19,"button",27),s._uU(20," Actualizar "),s.qZA()()()}if(2&o){const t=s.oxw();s.Q6J("formGroup",t.form),s.xp6(6),s.Q6J("type",t.passwordClass?"text":"password")("ngClass",s.VKq(11,p,t.f.password.touched&&t.f.password.invalid)),s.xp6(1),s.Q6J("ngIf",t.f.password.touched&&t.f.password.invalid),s.xp6(1),s.Q6J("ngClass",t.passwordClass?"feather icon-eye":"feather icon-eye-off"),s.xp6(6),s.Q6J("type",t.passwordClass?"text":"password")("ngClass",s.VKq(13,p,t.f.confirmPassword.touched&&t.f.confirmPassword.invalid)),s.xp6(1),s.Q6J("ngIf",t.f.confirmPassword.touched&&t.f.confirmPassword.invalid),s.xp6(1),s.Q6J("ngIf",t.isValidConfirmPassword),s.xp6(1),s.Q6J("ngClass",t.confirmPasswordClass?"feather icon-eye":"feather icon-eye-off"),s.xp6(2),s.Q6J("disabled",t.form.invalid)}}function T(o,i){if(1&o&&(s.TgZ(0,"div",31)(1,"p",32),s._uU(2," Contrase\xf1a actualizada correctamente. Ir a "),s.TgZ(3,"a",13),s._uU(4,"Login"),s.qZA()()()),2&o){const t=s.oxw();s.xp6(3),s.Q6J("routerLink",t.routes.login)}}function Z(o,i){if(1&o&&(s.TgZ(0,"div",31)(1,"p",32),s._uU(2," El token de cambio de contrase\xf1a ha expirado. Por favor, vuelve a seguir los pasos para cambiar la contrase\xf1a. "),s.TgZ(3,"a",13),s._uU(4,"Cambiar contrase\xf1a"),s.qZA()()()),2&o){const t=s.oxw();s.xp6(3),s.Q6J("routerLink",t.routes.forgotPassword)}}function P(o,i){if(1&o&&(s.TgZ(0,"div",31)(1,"p",32),s._uU(2," Tienes ya cuenta? "),s.TgZ(3,"a",13),s._uU(4,"Login"),s.qZA()()()),2&o){const t=s.oxw();s.xp6(3),s.Q6J("routerLink",t.routes.login)}}const b=[{path:"",component:(()=>{const i=class{get f(){return this.form.controls}constructor(a,r,d,A){this.router=a,this.clubDataSrv=r,this.registerSrv=d,this.activateRoute=A,this.routes=m._,this.passwordClass=!1,this.confirmPasswordClass=!1,this.isValidConfirmPassword=!1,this.error=!1,this.token="",this.user_email="",this.isValidToken=!0,this.passwordChanged=!1,this.form=new n.cw({password:new n.NI("",[n.kI.required]),confirmPassword:new n.NI("",[n.kI.required])})}ngOnInit(){this.activateRoute.params.subscribe(a=>{this.token=a.token,this.clubDataSrv.getUserByToken(this.token).subscribe(r=>{r.isTokenActive?this.user_email=r.email:this.isValidToken=!1})})}submit(){if(this.form.value.password!=this.form.value.confirmPassword)this.isValidConfirmPassword=!0;else{this.isValidConfirmPassword=!1;let a=new FormData;a.append("password",this.form.value.password?this.form.value.password:""),a.append("email",this.user_email),a.append("token",this.token),this.clubDataSrv.updatePasswordUser(a).subscribe(r=>{200==r.message&&(this.passwordChanged=!0)})}}register(){}passwordFunc(){this.passwordClass=!this.passwordClass}confirmPasswordFunc(){this.confirmPasswordClass=!this.confirmPasswordClass}};let o=i;return i.\u0275fac=function(r){return new(r||i)(s.Y36(c.F0),s.Y36(u.E),s.Y36(g.a),s.Y36(c.gz))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-new-password"]],decls:21,vars:5,consts:[[1,"main-wrapper","login-body"],[1,"container-fluid","px-0"],[1,"row"],[1,"col-lg-6","login-wrap"],[1,"login-sec","image-center"],[1,"log-img"],["src","assets/img/login-02.png","alt","Logo",1,"img-fluid","text-center"],[1,"col-lg-6","login-wrap-bg"],[1,"login-wrapper"],[1,"loginbox"],[1,"login-right"],[1,"login-right-wrap"],[1,"account-logo"],[3,"routerLink"],["src","assets/img/login-logo.png","alt",""],[3,"formGroup","ngSubmit",4,"ngIf"],["class","next-sign",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"login-danger"],["formControlName","password","autocomplete","password",1,"form-control","pass-input",3,"type","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"profile-views","toggle-password",3,"ngClass","click"],["formControlName","confirmPassword","autocomplete","confirmPassword",1,"form-control","pass-input-confirm",3,"type","ngClass"],["class","invalid-password",4,"ngIf"],[1,"profile-views","confirm-password",3,"ngClass","click"],[1,"form-group","login-btn"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],[1,"invalid-password"],[1,"next-sign"],[1,"account-subtitle"]],template:function(r,d){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),s._UZ(6,"img",6),s.qZA()()(),s.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"a",13),s._UZ(14,"img",14),s.qZA()(),s.TgZ(15,"h2"),s._uU(16,"Restaurar contrase\xf1a"),s.qZA(),s.YNc(17,x,21,15,"form",15),s.YNc(18,T,5,1,"div",16),s.YNc(19,Z,5,1,"div",16),s.YNc(20,P,5,1,"div",16),s.qZA()()()()()()()()),2&r&&(s.xp6(13),s.Q6J("routerLink",d.routes.adminDashboard),s.xp6(4),s.Q6J("ngIf",0==d.passwordChanged&&1==d.isValidToken),s.xp6(1),s.Q6J("ngIf",1==d.passwordChanged),s.xp6(1),s.Q6J("ngIf",0==d.isValidToken),s.xp6(1),s.Q6J("ngIf",0==d.passwordChanged&&1==d.isValidToken))},dependencies:[l.mk,l.O5,c.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:[".invalid-password[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:.875em;color:var(--bs-form-invalid-color)}.image-center[_ngcontent-%COMP%]{width:100%;height:50%;align-items:center}"]}),o})()}];let J=(()=>{const i=class{};let o=i;return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[c.Bz.forChild(b),c.Bz]}),o})();var N=e(25108);let k=(()=>{const i=class{};let o=i;return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[l.ez,J,N.m]}),o})()}}]);