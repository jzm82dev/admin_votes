"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[8062],{28062:(ht,v,d)=>{d.r(v),d.d(v,{UrbanisationModule:()=>gt});var u=d(36895),m=d(30027),t=d(94650);let M=(()=>{const r=class{};let s=r;return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-urbanisation"]],decls:1,vars:0,template:function(i,n){1&i&&t._UZ(0,"router-outlet")},dependencies:[m.lC]}),s})();var Z=d(46382),_=d(80529),g=d(75862),y=d(40866);let p=(()=>{const r=class{constructor(e,i){this.http=e,this.authSrv=i}listUrbanisations(){let e=new _.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(g.$g+"/urbanisations",{headers:e})}saveUrbanisation(e){let i=new _.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(g.$g+"/urbanisations",e,{headers:i})}updateUrbanisation(e,i){let n=new _.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(g.$g+"/urbanisations/update/"+e,i,{headers:n})}updatUrbanisation(e){let i=new _.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.post(g.$g+"/urbanisations",e,{headers:i})}config(){let e=new _.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(g.$g+"/urbanisations/get-countries",{headers:e})}getStates(e){let i=new _.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(g.$g+"/urbanisations/get-states/"+e,{headers:i})}getCities(e){let i=new _.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(g.$g+"/urbanisations/get-cities/"+e,{headers:i})}getUrbanisation(e){let i=new _.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.get(g.$g+"/urbanisations/"+e,{headers:i})}deleteUrbanisation(e){let i=new _.WM({Authorization:"Bearer "+this.authSrv.token});return this.http.delete(g.$g+"/urbanisations/"+e,{headers:i})}};let s=r;return r.\u0275fac=function(i){return new(i||r)(t.LFG(_.eN),t.LFG(y.e))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),s})();var c=d(24006),A=d(84385),T=d(3238),h=d(42466);function q(s,r){if(1&s&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&s){const a=r.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.name," ")}}function J(s,r){if(1&s&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&s){const a=r.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.name," ")}}function w(s,r){if(1&s&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&s){const a=r.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.name," ")}}function L(s,r){if(1&s){const a=t.EpF();t.TgZ(0,"div",14)(1,"label",33),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",34)(5,"input",35),t.NdJ("change",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.loadFile(i))}),t.qZA(),t.TgZ(6,"label",36),t._uU(7),t.ALo(8,"translate"),t.qZA()()()}2&s&&(t.xp6(2),t.hij("",t.lcZ(3,2,"club_translations.club_information.form_logo")," "),t.xp6(5),t.Oqu(t.lcZ(8,4,"club_translations.club_information.form_select_img")))}function N(s,r){if(1&s&&(t.TgZ(0,"div",37),t._UZ(1,"img",38),t.qZA()),2&s){const a=t.oxw();t.xp6(1),t.Q6J("src",a.image_preview,t.LSH)}}function S(s,r){if(1&s){const a=t.EpF();t.TgZ(0,"div",39)(1,"div",40)(2,"button",41),t.NdJ("click",function(){t.CHM(a);const i=t.oxw();return t.KtG(i.saveData())}),t._uU(3),t.ALo(4,"translate"),t.qZA()()()}2&s&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"commun_translations.save")))}function k(s,r){if(1&s&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&s){const a=r.$implicit;t.xp6(1),t.Oqu(a)}}function Q(s,r){if(1&s&&(t.TgZ(0,"ul"),t.YNc(1,k,2,1,"li",47),t.qZA()),2&s){const a=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",a.message_errors)}}function F(s,r){if(1&s){const a=t.EpF();t.TgZ(0,"div",42)(1,"div",43)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",44),t.NdJ("click",function(){t.CHM(a);const i=t.oxw();return t.KtG(i.cleanMessage())}),t._UZ(7,"span",45),t.qZA(),t.YNc(8,Q,2,1,"ul",46),t.qZA()()}if(2&s){const a=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,3,"commun_translations.error")," "),t.xp6(2),t.hij(" ",a.error_message," "),t.xp6(3),t.Q6J("ngIf",a.message_errors.length>0)}}function E(s,r){if(1&s){const a=t.EpF();t.TgZ(0,"div",42)(1,"div",48)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",44),t.NdJ("click",function(){t.CHM(a);const i=t.oxw();return t.KtG(i.cleanMessage())}),t._UZ(7,"span",45),t.qZA()()()}if(2&s){const a=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,2,"commun_translations.success")," "),t.xp6(2),t.hij(" ",a.success_message," ")}}const b=function(){return{standalone:!0}};let j=(()=>{const r=class{constructor(e){this.urbanisationSrv=e,this.routes=Z._,this.tab_selected=1,this.president="",this.name="",this.mobile="",this.email="",this.urbanisation_id="",this.address="",this.additional_address="",this.postal_code="",this.image_preview="assets/img/img-06.jpg",this.success_message="",this.error_message="",this.success_message_additionl_data="",this.error_message_additionl_data="",this.message_errors=[],this.message_errors_additional_data=[],this.message_consult_admin="",this.modifySchedule=!0,this.text_schedule_title="A\xf1ade horario diario",this.translations=[],this.flag=!0,this.can_edit=!1,this.countries=[],this.country_id="",this.states=[],this.state_id="",this.cities=[],this.city_id=""}ngOnInit(){this.user=this.urbanisationSrv.authSrv.user,this.hasPermission(),this.urbanisationSrv.config().subscribe(e=>{this.countries=e.countries})}hasPermission(e=""){return(this.user.role.includes("Super-Admin")||!!this.user.permissions.includes("edit_urbanisations"))&&(this.can_edit=!0,!0)}loadFile(e){if(e.target.files[0].type.indexOf("image")<0)return alert(this.translations.commun_translations.only_type_img),void(this.image_preview=this.image_preview?this.image_preview:"assets/img/user-06.jpg");if(e.target.files[0].size>2e6)return alert(this.translations.commun_translations.max_size_img),void(this.fileAvatar="");this.fileAvatar=e.target.files[0];let i=new FileReader;i.readAsDataURL(this.fileAvatar),i.onloadend=()=>this.image_preview=i.result}cleanMessage(){this.error_message="",this.success_message="",this.success_message_additionl_data="",this.error_message_additionl_data="",this.message_errors=[]}countrySelected(e){this.urbanisationSrv.getStates(e).subscribe(i=>{200==i.message?this.states=i.states:this.error_message_additionl_data=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}stateSelected(e){this.urbanisationSrv.getCities(e).subscribe(i=>{200==i.message?this.cities=i.cities:this.error_message_additionl_data=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}saveData(){if(this.cleanMessage(),!(this.name&&this.president&&this.mobile&&this.email))return void(this.error_message="Nombre, presidente, tel\xe9fono y email son obligatorios");if(this.name&&this.name.length>191)return void(this.error_message="El nombre no puede superar los 191 caracteres");if(this.president&&this.president.length>50)return void(this.error_message="El presidente no puede superar los 191 caracteres");if(this.email&&this.email.length>191)return void(this.error_message="El email no puede superar los 191 caracteres");if(this.mobile&&this.mobile.length>50)return void(this.error_message="El tel\xe9fono no puede superar los 50 caracteres");if(!(this.address&&this.postal_code&&this.country_id&&this.state_id&&this.city_id))return void(this.error_message_additionl_data="Los campos direcci\xf3n, pa\xeds, provincia, ciudad y c\xf3digo postal son obligatorios");if(this.address&&this.address.length>191)return void(this.error_message_additionl_data=this.translations["club_translations.club_information_messages"].error_7);if(this.additional_address&&this.additional_address.length>191)return void(this.error_message_additionl_data=this.translations["club_translations.club_information_messages"].error_8);if(this.postal_code&&this.postal_code.length>10)return void(this.error_message_additionl_data=this.translations["club_translations.club_information_messages"].error_11);let e=new FormData;e.append("name",this.name),e.append("president",this.president),e.append("mobile",this.mobile),e.append("email",this.email),e.append("imagen",this.fileAvatar),e.append("urbanisation_id",this.urbanisation_id),e.append("address",this.address),e.append("additional_address",this.additional_address),e.append("postal_code",this.postal_code),e.append("country_id",this.country_id),e.append("state_id",this.state_id),e.append("city_id",this.city_id),this.urbanisationSrv.saveUrbanisation(e).subscribe(i=>{200==i.message?(this.success_message="Urbanizaci\xf3n guardada correctamente",this.urbanisation_id=i.urbanisation_id):422==i.message?(this.error_message="Ha habido el siguiente error al guardar la urbanizaci\xf3n",this.message_errors=i.errors_text):this.error_message="Error interno del sistema. Int\xe9ntalo nuevamente y si el problema persiste contacte con el adminitrador."})}};let s=r;return r.\u0275fac=function(i){return new(i||r)(t.Y36(p))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-add-urbanisation"]],decls:114,vars:73,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item"],[1,"feather","icon-chevron-right"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"form-heading"],[1,"col-12","col-md-6","col-xl-6"],[1,"form-group","local-forms"],[1,"login-danger"],["name","name","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["name","president","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["name","mobile","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["name","email","type","email",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"star-red"],["type","text","name","address",1,"form-control",3,"ngModel","placeholder","disabled","ngModelChange"],["type","text","name","additional_address",1,"form-control",3,"ngModel","placeholder","disabled","ngModelChange"],[1,"form-control","select",3,"ngModel","ngModelOptions","placeholder","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","select",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],["type","text","name","postal_code",1,"form-control",3,"ngModel","placeholder","disabled","ngModelChange"],["class","form-group local-forms",4,"ngIf"],[1,"form-group"],["class","",4,"ngIf"],["class","form-group mb-0 text-end",4,"ngIf"],["class","col-md-12 my-4",4,"ngIf"],[3,"value"],[1,"local-top"],[1,"settings-btn","upload-files-avator"],["type","file","accept","image/*","name","image","id","file",1,"hide-input",3,"change"],["for","file",1,"upload"],[1,""],["alt","","width","150px","height","150px",3,"src"],[1,"form-group","mb-0","text-end"],[1,"settings-btns"],["type","submit",1,"border-0","btn","btn-primary","btn-gradient-primary","btn-rounded",3,"click"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[4,"ngIf"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"li",7),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"li",6),t._uU(12,"Urbanizaci\xf3n"),t.qZA()()()()(),t.TgZ(13,"div",3)(14,"div",9)(15,"div",10)(16,"div",11)(17,"form")(18,"div",3)(19,"div",9)(20,"div",12)(21,"h4"),t._uU(22,"Urbanizaci\xf3n"),t.qZA()()(),t.TgZ(23,"div",13)(24,"div",14)(25,"label"),t._uU(26,"Nombre "),t.TgZ(27,"span",15),t._uU(28,"*"),t.qZA()(),t.TgZ(29,"input",16),t.NdJ("ngModelChange",function(l){return n.name=l}),t.qZA()()(),t.TgZ(30,"div",13)(31,"div",14)(32,"label"),t._uU(33,"Presidente "),t.TgZ(34,"span",15),t._uU(35,"*"),t.qZA()(),t.TgZ(36,"input",17),t.NdJ("ngModelChange",function(l){return n.president=l}),t.qZA()()(),t.TgZ(37,"div",13)(38,"div",14)(39,"label"),t._uU(40),t.ALo(41,"translate"),t.TgZ(42,"span",15),t._uU(43,"*"),t.qZA()(),t.TgZ(44,"input",18),t.NdJ("ngModelChange",function(l){return n.mobile=l}),t.qZA()()(),t.TgZ(45,"div",13)(46,"div",14)(47,"label"),t._uU(48),t.ALo(49,"translate"),t.TgZ(50,"span",15),t._uU(51,"*"),t.qZA()(),t.TgZ(52,"input",19),t.NdJ("ngModelChange",function(l){return n.email=l}),t.qZA()()(),t.TgZ(53,"div",13)(54,"div",14)(55,"label"),t._uU(56),t.ALo(57,"translate"),t.TgZ(58,"span",20),t._uU(59,"*"),t.qZA()(),t.TgZ(60,"input",21),t.NdJ("ngModelChange",function(l){return n.address=l}),t.ALo(61,"translate"),t.qZA()()(),t.TgZ(62,"div",13)(63,"div",14)(64,"label"),t._uU(65,"Datos adicionales"),t.qZA(),t.TgZ(66,"input",22),t.NdJ("ngModelChange",function(l){return n.additional_address=l}),t.ALo(67,"translate"),t.qZA()()(),t.TgZ(68,"div",13)(69,"div",14)(70,"label"),t._uU(71),t.ALo(72,"translate"),t.TgZ(73,"span",15),t._uU(74,"*"),t.qZA()(),t.TgZ(75,"mat-select",23),t.NdJ("ngModelChange",function(l){return n.country_id=l})("selectionChange",function(l){return n.countrySelected(l.value)}),t.ALo(76,"translate"),t.YNc(77,q,2,2,"mat-option",24),t.qZA()()(),t.TgZ(78,"div",13)(79,"div",14)(80,"label"),t._uU(81),t.ALo(82,"translate"),t.TgZ(83,"span",15),t._uU(84,"*"),t.qZA()(),t.TgZ(85,"mat-select",23),t.NdJ("ngModelChange",function(l){return n.state_id=l})("selectionChange",function(l){return n.stateSelected(l.value)}),t.ALo(86,"translate"),t.YNc(87,J,2,2,"mat-option",24),t.qZA()()(),t.TgZ(88,"div",13)(89,"div",14)(90,"label"),t._uU(91),t.ALo(92,"translate"),t.TgZ(93,"span",15),t._uU(94,"*"),t.qZA()(),t.TgZ(95,"mat-select",25),t.NdJ("ngModelChange",function(l){return n.city_id=l}),t.ALo(96,"translate"),t.YNc(97,w,2,2,"mat-option",24),t.qZA()()(),t.TgZ(98,"div",13)(99,"div",14)(100,"label"),t._uU(101),t.ALo(102,"translate"),t.TgZ(103,"span",20),t._uU(104,"*"),t.qZA()(),t.TgZ(105,"input",26),t.NdJ("ngModelChange",function(l){return n.postal_code=l}),t.ALo(106,"translate"),t.qZA()()(),t.TgZ(107,"div",13),t.YNc(108,L,9,6,"div",27),t.qZA(),t.TgZ(109,"div",28),t.YNc(110,N,2,1,"div",29),t.qZA(),t.YNc(111,S,5,3,"div",30),t.qZA()()(),t.YNc(112,F,9,5,"div",31),t.YNc(113,E,8,4,"div",31),t.qZA()()()()()),2&i&&(t.xp6(7),t.Oqu(t.lcZ(8,42,"club_translations.dashboard")),t.xp6(22),t.Q6J("ngModel",n.name)("disabled",0==n.can_edit),t.xp6(7),t.Q6J("ngModel",n.president)("disabled",0==n.can_edit),t.xp6(4),t.hij("",t.lcZ(41,44,"club_translations.club_information.form_mobile")," "),t.xp6(4),t.Q6J("ngModel",n.mobile)("disabled",0==n.can_edit),t.xp6(4),t.hij("",t.lcZ(49,46,"club_translations.club_information.form_email")," "),t.xp6(4),t.Q6J("ngModel",n.email)("disabled",0==n.can_edit),t.xp6(4),t.hij("",t.lcZ(57,48,"club_translations.club_address.form_street_address")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(61,50,"club_translations.club_address.form_street_address_placeholder")),t.Q6J("ngModel",n.address)("disabled",0==n.can_edit),t.xp6(6),t.s9C("placeholder",t.lcZ(67,52,"club_translations.club_address.form_additional_address_placeholder")),t.Q6J("ngModel",n.additional_address)("disabled",0==n.can_edit),t.xp6(5),t.hij("",t.lcZ(72,54,"club_translations.club_address.form_country")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(76,56,"club_translations.club_address.form_select_country")),t.Q6J("ngModel",n.country_id)("ngModelOptions",t.DdM(70,b)),t.xp6(2),t.Q6J("ngForOf",n.countries),t.xp6(4),t.hij("",t.lcZ(82,58,"club_translations.club_address.form_province")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(86,60,"club_translations.club_address.form_select_state")),t.Q6J("ngModel",n.state_id)("ngModelOptions",t.DdM(71,b)),t.xp6(2),t.Q6J("ngForOf",n.states),t.xp6(4),t.hij("",t.lcZ(92,62,"club_translations.club_address.form_city")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(96,64,"club_translations.club_address.form_select_city")),t.Q6J("ngModel",n.city_id)("ngModelOptions",t.DdM(72,b)),t.xp6(2),t.Q6J("ngForOf",n.cities),t.xp6(4),t.hij("",t.lcZ(102,66,"club_translations.club_address.form_postal_code")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(106,68,"club_translations.club_address.form_postal_code_placeholder")),t.Q6J("ngModel",n.postal_code)("disabled",0==n.can_edit),t.xp6(3),t.Q6J("ngIf",1==n.can_edit),t.xp6(2),t.Q6J("ngIf",n.image_preview),t.xp6(1),t.Q6J("ngIf",1==n.can_edit),t.xp6(1),t.Q6J("ngIf",""!=n.error_message),t.xp6(1),t.Q6J("ngIf",""!=n.success_message))},dependencies:[u.sg,u.O5,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,A.gD,T.ey,h.X$]}),s})();var D=d(30671),O=d(74742),U=d(96308);const I=["closebutton"],C=function(s){return["edit",s]};function P(s,r){if(1&s&&(t.TgZ(0,"a",66),t._UZ(1,"i",67),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&s){const a=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(4,C,a.id)),t.xp6(2),t.hij(" ",t.lcZ(3,2,"commun_translations.edit"),"")}}function Y(s,r){if(1&s&&(t.TgZ(0,"a",66),t._UZ(1,"i",68),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&s){const a=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(4,C,a.id)),t.xp6(2),t.hij(" ",t.lcZ(3,2,"commun_translations.view"),"")}}function z(s,r){if(1&s){const a=t.EpF();t.TgZ(0,"a",69),t.NdJ("click",function(){t.CHM(a);const i=t.oxw().$implicit,n=t.oxw();return t.KtG(n.selectUrbanisation(i))}),t._UZ(1,"i",70),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&s&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"commun_translations.remove"),""))}function G(s,r){if(1&s&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td",59)(10,"div",60)(11,"a",61),t._UZ(12,"i",62),t.qZA(),t.TgZ(13,"div",63),t.YNc(14,P,4,6,"a",64),t.YNc(15,Y,4,6,"a",64),t.YNc(16,z,4,3,"a",65),t.qZA()()()()),2&s){const a=r.$implicit,e=t.oxw();t.xp6(2),t.Oqu(a.name),t.xp6(2),t.Oqu(a.president),t.xp6(2),t.Oqu(a.mobile),t.xp6(2),t.Oqu(a.email),t.xp6(6),t.Q6J("ngIf",e.hasPermission("edit_urbanisations")),t.xp6(1),t.Q6J("ngIf",e.hasPermission("edit_urbanisations")),t.xp6(1),t.Q6J("ngIf",e.hasPermission("delete_urbanisations"))}}function H(s,r){if(1&s){const a=t.EpF();t.TgZ(0,"li",72),t.NdJ("click",function(){t.CHM(a);const i=t.oxw(2);return t.KtG(i.moveToPage(i.currentPage-2))}),t.TgZ(1,"a",73),t._uU(2," ... "),t.qZA()()}if(2&s){const a=t.oxw(2);t.Q6J("hidden",1===a.currentPage)}}function K(s,r){if(1&s){const a=t.EpF();t.TgZ(0,"li",72),t.NdJ("click",function(){t.CHM(a);const i=t.oxw(2);return t.KtG(i.moveToPage(i.currentPage+2))}),t.TgZ(1,"a",73),t._uU(2," ... "),t.qZA()()}if(2&s){const a=t.oxw(2);t.Q6J("hidden",a.currentPage>=a.pageNumberArray[a.pageNumberArray.length-2]||a.totalData<a.serialNumberArray[a.serialNumberArray.length-1])}}function $(s,r){if(1&s){const a=t.EpF();t.ynx(0),t.TgZ(1,"li",46)(2,"a",48),t.NdJ("click",function(){const n=t.CHM(a).$implicit,o=t.oxw();return t.KtG(o.moveToPage(n))}),t._uU(3),t.qZA()(),t.YNc(4,H,3,1,"li",71),t.YNc(5,K,3,1,"li",71),t.BQk()}if(2&s){const a=r.$implicit,e=r.index,i=t.oxw();t.xp6(1),t.ekj("active",a===i.currentPage),t.Q6J("ngClass",i.pageNumberArray[i.currentPage-2]>a&&1!==a&&i.pageNumberArray.length>6||i.pageNumberArray[i.currentPage]<a&&1!==a&&i.pageNumberArray.length>6&&i.pageNumberArray.length!==a?"hide-page-no":"show-page-no"),t.xp6(2),t.hij(" ",a," "),t.xp6(1),t.Q6J("ngIf",0===e&&i.pageNumberArray.length>6&&i.currentPage>2),t.xp6(1),t.Q6J("ngIf",e===i.pageNumberArray.length-2&&i.pageNumberArray.length>6)}}function B(s,r){if(1&s&&(t.TgZ(0,"h3"),t._uU(1),t.qZA()),2&s){const a=t.oxw();t.xp6(1),t.AsE("Are you sure want to delete this urbanisation\xa0 ",a.urbanisation_selected.name," ",a.urbanisation_selected.surname,"?")}}const x=function(s){return{disabled:s}};function W(s,r){if(1&s&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&s){const a=r.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.name," ")}}function X(s,r){if(1&s&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&s){const a=r.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.name," ")}}function R(s,r){if(1&s&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&s){const a=r.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.name," ")}}function tt(s,r){if(1&s){const a=t.EpF();t.TgZ(0,"div",20)(1,"label",41),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",42)(5,"input",43),t.NdJ("change",function(i){t.CHM(a);const n=t.oxw(2);return t.KtG(n.loadFile(i))}),t.qZA(),t.TgZ(6,"label",44),t._uU(7),t.ALo(8,"translate"),t.qZA()()()}2&s&&(t.xp6(2),t.hij("",t.lcZ(3,2,"club_translations.club_information.form_logo")," "),t.xp6(5),t.Oqu(t.lcZ(8,4,"club_translations.club_information.form_select_img")))}function et(s,r){if(1&s&&(t.TgZ(0,"div",45),t._UZ(1,"img",46),t.qZA()),2&s){const a=t.oxw(2);t.xp6(1),t.Q6J("src",a.image_preview,t.LSH)}}function it(s,r){if(1&s){const a=t.EpF();t.TgZ(0,"div",47)(1,"div",48)(2,"button",49),t.NdJ("click",function(){t.CHM(a);const i=t.oxw(2);return t.KtG(i.saveData())}),t._uU(3),t.ALo(4,"translate"),t.qZA()()()}2&s&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"commun_translations.save")))}function at(s,r){if(1&s&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&s){const a=r.$implicit;t.xp6(1),t.Oqu(a)}}function nt(s,r){if(1&s&&(t.TgZ(0,"ul"),t.YNc(1,at,2,1,"li",55),t.qZA()),2&s){const a=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",a.message_errors)}}function st(s,r){if(1&s){const a=t.EpF();t.TgZ(0,"div",50)(1,"div",51)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",52),t.NdJ("click",function(){t.CHM(a);const i=t.oxw(2);return t.KtG(i.cleanMessage())}),t._UZ(7,"span",53),t.qZA(),t.YNc(8,nt,2,1,"ul",54),t.qZA()()}if(2&s){const a=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,3,"commun_translations.error")," "),t.xp6(2),t.hij(" ",a.error_message," "),t.xp6(3),t.Q6J("ngIf",a.message_errors.length>0)}}function rt(s,r){if(1&s){const a=t.EpF();t.TgZ(0,"div",50)(1,"div",56)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._uU(5),t.TgZ(6,"button",52),t.NdJ("click",function(){t.CHM(a);const i=t.oxw(2);return t.KtG(i.cleanMessage())}),t._UZ(7,"span",53),t.qZA()()()}if(2&s){const a=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,2,"commun_translations.success")," "),t.xp6(2),t.hij(" ",a.success_message," ")}}const f=function(){return{standalone:!0}},ot=function(){return["/urbanisation/list"]};function lt(s,r){if(1&s){const a=t.EpF();t.TgZ(0,"div",3)(1,"div",15)(2,"div",16)(3,"div",17)(4,"form")(5,"div",3)(6,"div",15)(7,"div",18)(8,"h4"),t._uU(9,"Urbanizaci\xf3n"),t.qZA()()(),t.TgZ(10,"div",19)(11,"div",20)(12,"label"),t._uU(13,"Nombre "),t.TgZ(14,"span",21),t._uU(15,"*"),t.qZA()(),t.TgZ(16,"input",22),t.NdJ("ngModelChange",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.name=i)}),t.qZA()()(),t.TgZ(17,"div",19)(18,"div",20)(19,"label"),t._uU(20,"Presidente "),t.TgZ(21,"span",21),t._uU(22,"*"),t.qZA()(),t.TgZ(23,"input",23),t.NdJ("ngModelChange",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.president=i)}),t.qZA()()(),t.TgZ(24,"div",19)(25,"div",20)(26,"label"),t._uU(27),t.ALo(28,"translate"),t.TgZ(29,"span",21),t._uU(30,"*"),t.qZA()(),t.TgZ(31,"input",24),t.NdJ("ngModelChange",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.mobile=i)}),t.qZA()()(),t.TgZ(32,"div",19)(33,"div",20)(34,"label"),t._uU(35),t.ALo(36,"translate"),t.TgZ(37,"span",21),t._uU(38,"*"),t.qZA()(),t.TgZ(39,"input",25),t.NdJ("ngModelChange",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.email=i)}),t.qZA()()(),t.TgZ(40,"div",19)(41,"div",20)(42,"label"),t._uU(43),t.ALo(44,"translate"),t.TgZ(45,"span",26),t._uU(46,"*"),t.qZA()(),t.TgZ(47,"input",27),t.NdJ("ngModelChange",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.address=i)}),t.ALo(48,"translate"),t.qZA()()(),t.TgZ(49,"div",19)(50,"div",20)(51,"label"),t._uU(52,"Datos adicionales"),t.qZA(),t.TgZ(53,"input",28),t.NdJ("ngModelChange",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.additional_address=i)}),t.ALo(54,"translate"),t.qZA()()(),t.TgZ(55,"div",19)(56,"div",20)(57,"label"),t._uU(58),t.ALo(59,"translate"),t.TgZ(60,"span",21),t._uU(61,"*"),t.qZA()(),t.TgZ(62,"mat-select",29),t.NdJ("ngModelChange",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.country_id=i)})("selectionChange",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.countrySelected(i.value))}),t.ALo(63,"translate"),t.YNc(64,W,2,2,"mat-option",30),t.qZA()()(),t.TgZ(65,"div",19)(66,"div",20)(67,"label"),t._uU(68),t.ALo(69,"translate"),t.TgZ(70,"span",21),t._uU(71,"*"),t.qZA()(),t.TgZ(72,"mat-select",29),t.NdJ("ngModelChange",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.state_id=i)})("selectionChange",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.stateSelected(i.value))}),t.ALo(73,"translate"),t.YNc(74,X,2,2,"mat-option",30),t.qZA()()(),t.TgZ(75,"div",19)(76,"div",20)(77,"label"),t._uU(78),t.ALo(79,"translate"),t.TgZ(80,"span",21),t._uU(81,"*"),t.qZA()(),t.TgZ(82,"mat-select",31),t.NdJ("ngModelChange",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.city_id=i)}),t.ALo(83,"translate"),t.YNc(84,R,2,2,"mat-option",30),t.qZA()()(),t.TgZ(85,"div",19)(86,"div",20)(87,"label"),t._uU(88),t.ALo(89,"translate"),t.TgZ(90,"span",26),t._uU(91,"*"),t.qZA()(),t.TgZ(92,"input",32),t.NdJ("ngModelChange",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.postal_code=i)}),t.ALo(93,"translate"),t.qZA()()(),t.TgZ(94,"div",19),t.YNc(95,tt,9,6,"div",33),t.qZA(),t.YNc(96,et,2,1,"div",34),t.YNc(97,it,5,3,"div",35),t.TgZ(98,"div",36)(99,"div",37)(100,"button",38),t._uU(101,"Volver"),t.qZA(),t._uU(102,"\xa0 "),t.qZA()()()()(),t.YNc(103,st,9,5,"div",39),t.YNc(104,rt,8,4,"div",39),t.qZA()()()}if(2&s){const a=t.oxw();t.xp6(16),t.Q6J("ngModel",a.name)("disabled",0==a.can_edit),t.xp6(7),t.Q6J("ngModel",a.president)("disabled",0==a.can_edit),t.xp6(4),t.hij("",t.lcZ(28,42,"club_translations.club_information.form_mobile")," "),t.xp6(4),t.Q6J("ngModel",a.mobile)("disabled",0==a.can_edit),t.xp6(4),t.hij("",t.lcZ(36,44,"club_translations.club_information.form_email")," "),t.xp6(4),t.Q6J("ngModel",a.email)("disabled",0==a.can_edit),t.xp6(4),t.hij("",t.lcZ(44,46,"club_translations.club_address.form_street_address")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(48,48,"club_translations.club_address.form_street_address_placeholder")),t.Q6J("ngModel",a.address)("disabled",0==a.can_edit),t.xp6(6),t.s9C("placeholder",t.lcZ(54,50,"club_translations.club_address.form_additional_address_placeholder")),t.Q6J("ngModel",a.additional_address)("disabled",0==a.can_edit),t.xp6(5),t.hij("",t.lcZ(59,52,"club_translations.club_address.form_country")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(63,54,"club_translations.club_address.form_select_country")),t.Q6J("ngModel",a.country_id)("ngModelOptions",t.DdM(68,f)),t.xp6(2),t.Q6J("ngForOf",a.countries),t.xp6(4),t.hij("",t.lcZ(69,56,"club_translations.club_address.form_province")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(73,58,"club_translations.club_address.form_select_state")),t.Q6J("ngModel",a.state_id)("ngModelOptions",t.DdM(69,f)),t.xp6(2),t.Q6J("ngForOf",a.states),t.xp6(4),t.hij("",t.lcZ(79,60,"club_translations.club_address.form_city")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(83,62,"club_translations.club_address.form_select_city")),t.Q6J("ngModel",a.city_id)("ngModelOptions",t.DdM(70,f)),t.xp6(2),t.Q6J("ngForOf",a.cities),t.xp6(4),t.hij("",t.lcZ(89,64,"club_translations.club_address.form_postal_code")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(93,66,"club_translations.club_address.form_postal_code_placeholder")),t.Q6J("ngModel",a.postal_code)("disabled",0==a.can_edit),t.xp6(3),t.Q6J("ngIf",1==a.can_edit),t.xp6(1),t.Q6J("ngIf",a.image_preview),t.xp6(1),t.Q6J("ngIf",1==a.can_edit),t.xp6(3),t.Q6J("routerLink",t.DdM(71,ot)),t.xp6(3),t.Q6J("ngIf",""!=a.error_message),t.xp6(1),t.Q6J("ngIf",""!=a.success_message)}}const dt=function(s){return["/owner/list",s]},ct=[{path:"",component:M,children:[{path:"add",component:j},{path:"list",component:(()=>{const r=class{constructor(e,i,n){this.data=e,this.urbanisationSrv=i,this.translate=n,this.urbanisationsList=[],this.showFilter=!1,this.searchDataValue="",this.lastIndex=0,this.pageSize=15,this.totalData=0,this.skip=0,this.limit=this.pageSize,this.pageIndex=0,this.serialNumberArray=[],this.currentPage=1,this.pageNumberArray=[],this.pageSelection=[],this.totalPages=0,this.urbanisations_general=[],this.birthdayBeauty="",this.translations=[]}ngOnInit(){this.user=this.urbanisationSrv.authSrv.user,this.initializeLanguage(),this.getTableData()}getTableData(){this.urbanisationsList=[],this.serialNumberArray=[],this.urbanisationSrv.listUrbanisations().subscribe(e=>{this.totalData=e.urbanisations.length,this.urbanisations_general=e.urbanisations.data,this.getTableDataGeneral()})}initializeLanguage(){this.translate.use(this.urbanisationSrv.authSrv.language),this.translate.setDefaultLang(this.urbanisationSrv.authSrv.language),this.translate.get(["club_translations"]).subscribe(e=>{this.translations=e})}hasPermission(e){return!(!this.user.role.includes("Super-Admin")&&!this.user.permissions.includes(e))}getTableDataGeneral(){let e=new u.uU("en-US");this.urbanisationsList=[],this.serialNumberArray=[],this.urbanisations_general.map((i,n)=>{const o=n+1;n>=this.skip&&o<=this.limit&&(this.urbanisationsList.push(i),i.birthday=e.transform(i.birthday,"dd/MM/yyyy"),this.serialNumberArray.push(o))}),this.dataSource=new D.by(this.urbanisationsList),this.calculateTotalPages(this.totalData,this.pageSize)}searchData(e){this.dataSource.filter=e.trim().toLowerCase(),this.urbanisationsList=this.dataSource.filteredData}sortData(e){const i=this.urbanisationsList.slice();this.urbanisationsList=e.active&&""!==e.direction?i.sort((n,o)=>(n[e.active]<o[e.active]?-1:1)*("asc"===e.direction?1:-1)):i}getMoreData(e){"next"==e?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableDataGeneral()):"previous"==e&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.getTableDataGeneral())}moveToPage(e){this.currentPage=e,this.skip=this.pageSelection[e-1].skip,this.limit=this.pageSelection[e-1].limit,e>this.currentPage?this.pageIndex=e-1:e<this.currentPage&&(this.pageIndex=e+1),this.getTableDataGeneral()}refresh(){this.pageSelection=[],this.searchDataValue="",this.limit=this.pageSize,this.skip=0,this.currentPage=1,this.getTableDataGeneral()}calculateTotalPages(e,i){this.pageNumberArray=[],this.totalPages=e/i,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(var n=1;n<=this.totalPages;n++){const o=i*n,l=o-i;this.pageNumberArray.push(n),this.pageSelection.push({skip:l,limit:o})}}selectUrbanisation(e){this.urbanisation_selected=e}removeUrbanisation(){this.urbanisationSrv.deleteUrbanisation(this.urbanisation_selected.user_id).subscribe(e=>{if(200==e.message){let i=this.urbanisationsList.findIndex(n=>n.id==this.urbanisation_selected.id);-1!=i&&(this.urbanisationsList.splice(i,1),this.closebutton.nativeElement.click(),this.urbanisation_selected=null)}else console.log(e)})}};let s=r;return r.\u0275fac=function(i){return new(i||r)(t.Y36(O.D),t.Y36(p),t.Y36(h.sK))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-list-urbanisation"]],viewQuery:function(i,n){if(1&i&&t.Gf(I,5),2&i){let o;t.iGM(o=t.CRH())&&(n.closebutton=o.first)}},decls:84,vars:13,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card","card-table","show-entire"],[1,"card-body"],[1,"page-table-header","mb-2"],[1,"row","align-items-center"],[1,"col"],[1,"doctor-table-blk"],[1,"doctor-search-blk"],[1,"top-nav-search","table-search-blk"],["placeholder","Search here",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn"],["src","assets/img/icons/search-normal.svg","alt",""],[1,"add-group"],["routerLink","/urbanisations/add-urbanisation","routerLinkActive","router-link-active",1,"btn","btn-primary","add-pluss","ms-2"],["src","assets/img/icons/plus.svg","alt",""],["href","javascript:;",1,"btn","btn-primary","doctor-refresh","ms-2",3,"click"],["src","assets/img/icons/re-fresh.svg","alt",""],[1,"col-auto","text-end","float-end","ms-auto","download-grp"],["href","javascript:;",1,"me-2"],["src","assets/img/icons/pdf-icon-01.svg","alt",""],["src","assets/img/icons/pdf-icon-02.svg","alt",""],["src","assets/img/icons/pdf-icon-03.svg","alt",""],["href","javascript:;"],["src","assets/img/icons/pdf-icon-04.svg","alt",""],[1,"table-responsive"],["matSort","",1,"table","border-0","custom-table","comman-table","datatable","mb-0",3,"matSortChange"],["mat-sort-header","name"],["mat-sort-header","president"],["mat-sort-header","mobile"],["mat-sort-header","email"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);","tabindex","-1",1,"page-link",3,"click"],["href","javascript:void(0);",1,"page-link",3,"click"],["id","delete_urbanisation_modal","role","dialog",1,"modal","fade","delete-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],["src","assets/img/sent.png","alt","","width","50","height","46"],[4,"ngIf"],[1,"m-t-20"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-white","me-1"],["closebutton",""],["type","submit",1,"btn","btn-danger",3,"click"],[1,"text-end"],[1,"dropdown","dropdown-action"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"action-icon","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],["class","dropdown-item","href","#",3,"routerLink",4,"ngIf"],["class","dropdown-item","href","#","onclick","return false;","data-bs-toggle","modal","data-bs-target","#delete_urbanisation_modal",3,"click",4,"ngIf"],["href","#",1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-pen-to-square","m-r-5"],[1,"fa-solid","fa-eye","m-r-5"],["href","#","onclick","return false;","data-bs-toggle","modal","data-bs-target","#delete_urbanisation_modal",1,"dropdown-item",3,"click"],[1,"fa","fa-trash-alt","m-r-5"],["class","page-item",3,"hidden","click",4,"ngIf"],[1,"page-item",3,"hidden","click"],["href","javascript:void(0);",1,"page-link"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),t._uU(8,"Urbanizaciones "),t.qZA()(),t.TgZ(9,"li",6),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"li",9),t._uU(12,"Listado"),t.qZA()()()()(),t.TgZ(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"h3"),t._uU(22,"Urbanizaciones"),t.qZA(),t.TgZ(23,"div",16)(24,"div",17)(25,"input",18),t.NdJ("ngModelChange",function(l){return n.searchDataValue=l})("ngModelChange",function(){return n.searchData(n.searchDataValue)}),t.qZA(),t.TgZ(26,"a",19),t._UZ(27,"img",20),t.qZA()(),t.TgZ(28,"div",21)(29,"a",22),t._UZ(30,"img",23),t.qZA(),t.TgZ(31,"a",24),t.NdJ("click",function(){return n.refresh()}),t._UZ(32,"img",25),t.qZA()()()()(),t.TgZ(33,"div",26)(34,"a",27),t._UZ(35,"img",28),t.qZA(),t.TgZ(36,"a",27),t._UZ(37,"img",29),t.qZA(),t.TgZ(38,"a",27),t._UZ(39,"img",30),t.qZA(),t.TgZ(40,"a",31),t._UZ(41,"img",32),t.qZA()()()(),t.TgZ(42,"div",33)(43,"table",34),t.NdJ("matSortChange",function(l){return n.sortData(l)}),t.TgZ(44,"thead")(45,"tr")(46,"th",35),t._uU(47,"Nombre"),t.qZA(),t.TgZ(48,"th",36),t._uU(49,"Presidente"),t.qZA(),t.TgZ(50,"th",37),t._uU(51,"Tel\xe9fono"),t.qZA(),t.TgZ(52,"th",38),t._uU(53,"Email"),t.qZA(),t._UZ(54,"th"),t.qZA()(),t.TgZ(55,"tbody"),t.YNc(56,G,17,7,"tr",39),t.qZA()(),t._UZ(57,"br"),t.TgZ(58,"div",40)(59,"div",41)(60,"div",42),t._uU(61),t.qZA()(),t.TgZ(62,"div",43)(63,"div",44)(64,"ul",45)(65,"li",46)(66,"a",47),t.NdJ("click",function(){return n.getMoreData("previous")}),t._uU(67,"Previous"),t.qZA()(),t.YNc(68,$,6,6,"ng-container",39),t.TgZ(69,"li",46)(70,"a",48),t.NdJ("click",function(){return n.getMoreData("next")}),t._uU(71,"Next "),t.qZA()()()()()()()()()()()()(),t.TgZ(72,"div",49)(73,"div",50)(74,"div",51)(75,"div",52),t._UZ(76,"img",53),t.YNc(77,B,2,2,"h3",54),t.TgZ(78,"div",55)(79,"a",56,57),t._uU(81,"Close"),t.qZA(),t.TgZ(82,"button",58),t.NdJ("click",function(){return n.removeUrbanisation()}),t._uU(83,"Delete"),t.qZA()()()()()()),2&i&&(t.xp6(25),t.Q6J("ngModel",n.searchDataValue),t.xp6(31),t.Q6J("ngForOf",n.urbanisationsList),t.xp6(5),t.lnq(" Showing ",n.serialNumberArray[0]," to ",n.serialNumberArray[n.serialNumberArray.length-1]," of ",n.totalData," entries "),t.xp6(4),t.Q6J("ngClass",t.VKq(9,x,1===n.currentPage)),t.xp6(3),t.Q6J("ngForOf",n.pageNumberArray),t.xp6(1),t.Q6J("ngClass",t.VKq(11,x,n.currentPage===n.pageNumberArray[n.pageNumberArray.length-1]||0===n.urbanisationsList.length)),t.xp6(8),t.Q6J("ngIf",n.urbanisation_selected))},dependencies:[u.mk,u.sg,u.O5,m.rH,m.Od,c.Fj,c.JJ,c.On,U.YE,U.nU,h.X$]}),s})()},{path:"list/edit/:id",component:(()=>{const r=class{constructor(e,i){this.urbanisationSrv=e,this.activateRoute=i,this.routes=Z._,this.tab_selected=1,this.president="",this.name="",this.mobile="",this.email="",this.urbanisation_id="",this.address="",this.additional_address="",this.postal_code="",this.image_preview="assets/img/img-06.jpg",this.success_message="",this.error_message="",this.success_message_additionl_data="",this.error_message_additionl_data="",this.message_errors=[],this.message_errors_additional_data=[],this.message_consult_admin="",this.modifySchedule=!0,this.text_schedule_title="A\xf1ade horario diario",this.translations=[],this.flag=!0,this.can_edit=!1,this.countries=[],this.country_id="",this.states=[],this.state_id="",this.cities=[],this.city_id="",this.isLoaded=!1}ngOnInit(){this.user=this.urbanisationSrv.authSrv.user,this.hasPermission(),this.activateRoute.params.subscribe(e=>{this.urbanisation_id=e.id,this.getUrbanisation()}),this.urbanisationSrv.config().subscribe(e=>{this.countries=e.countries})}hasPermission(e=""){return(this.user.role.includes("Super-Admin")||!!this.user.permissions.includes("edit_urbanisations"))&&(this.can_edit=!0,!0)}getUrbanisation(){this.urbanisationSrv.getUrbanisation(this.urbanisation_id).subscribe(e=>{this.urbanisation_selected=e.urbanisation,this.name=this.urbanisation_selected.name,this.president=this.urbanisation_selected.president,this.mobile=this.urbanisation_selected.mobile,this.email=this.urbanisation_selected.email,this.image_preview=this.urbanisation_selected.avatar,console.log(this.image_preview),this.address=this.urbanisation_selected.address,this.additional_address=this.urbanisation_selected.additional_address,this.country_id=this.urbanisation_selected.country_id,this.countrySelected(this.country_id),this.state_id=this.urbanisation_selected.state_id,this.stateSelected(this.state_id),this.city_id=this.urbanisation_selected.city_id,this.postal_code=this.urbanisation_selected.postal_code,this.isLoaded=!0})}loadFile(e){if(e.target.files[0].type.indexOf("image")<0)return alert(this.translations.commun_translations.only_type_img),void(this.image_preview=this.image_preview?this.image_preview:"assets/img/user-06.jpg");if(e.target.files[0].size>2e6)return alert(this.translations.commun_translations.max_size_img),void(this.fileAvatar="");this.fileAvatar=e.target.files[0];let i=new FileReader;i.readAsDataURL(this.fileAvatar),i.onloadend=()=>this.image_preview=i.result}cleanMessage(){this.error_message="",this.success_message="",this.success_message_additionl_data="",this.error_message_additionl_data="",this.message_errors=[]}countrySelected(e){this.urbanisationSrv.getStates(e).subscribe(i=>{200==i.message?this.states=i.states:this.error_message_additionl_data=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}stateSelected(e){this.urbanisationSrv.getCities(e).subscribe(i=>{200==i.message?this.cities=i.cities:this.error_message_additionl_data=this.translations.commun_translations.data_save_error+" "+this.translations.commun_translations.consult_admin})}saveData(){if(this.cleanMessage(),!(this.name&&this.president&&this.mobile&&this.email))return void(this.error_message="Nombre, presidente, tel\xe9fono y email son obligatorios");if(this.name&&this.name.length>191)return void(this.error_message="El nombre no puede superar los 191 caracteres");if(this.president&&this.president.length>50)return void(this.error_message="El presidente no puede superar los 191 caracteres");if(this.email&&this.email.length>191)return void(this.error_message="El email no puede superar los 191 caracteres");if(this.mobile&&this.mobile.length>50)return void(this.error_message="El tel\xe9fono no puede superar los 50 caracteres");if(!(this.address&&this.postal_code&&this.country_id&&this.state_id&&this.city_id))return void(this.error_message_additionl_data="Los campos direcci\xf3n, pa\xeds, provincia, ciudad y c\xf3digo postal son obligatorios");if(this.address&&this.address.length>191)return void(this.error_message_additionl_data=this.translations["club_translations.club_information_messages"].error_7);if(this.additional_address&&this.additional_address.length>191)return void(this.error_message_additionl_data=this.translations["club_translations.club_information_messages"].error_8);if(this.postal_code&&this.postal_code.length>10)return void(this.error_message_additionl_data=this.translations["club_translations.club_information_messages"].error_11);let e=new FormData;e.append("name",this.name),e.append("president",this.president),e.append("mobile",this.mobile),e.append("email",this.email),e.append("imagen",this.fileAvatar),e.append("urbanisation_id",this.urbanisation_id),e.append("address",this.address),e.append("additional_address",this.additional_address),e.append("postal_code",this.postal_code),e.append("country_id",this.country_id),e.append("state_id",this.state_id),e.append("city_id",this.city_id),this.urbanisationSrv.updateUrbanisation(this.urbanisation_id,e).subscribe(i=>{200==i.message?this.success_message="Urbanizaci\xf3n guardada correctamente":422==i.message?(this.error_message="Ha habido el siguiente error al guardar la urbanizaci\xf3n",this.message_errors=i.errors_text):this.error_message="Error interno del sistema. Int\xe9ntalo nuevamente y si el problema persiste contacte con el adminitrador."})}};let s=r;return r.\u0275fac=function(i){return new(i||r)(t.Y36(p),t.Y36(m.gz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-edit-urbanisation"]],decls:23,vars:11,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item"],[1,"feather","icon-chevron-right"],[1,"settings-menu-links"],[1,"nav","nav-tabs","menu-tabs"],[1,"nav-item","active"],[1,"nav-link",3,"routerLink"],[1,"nav-item"],["class","row",4,"ngIf"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"form-heading"],[1,"col-12","col-md-6","col-xl-6"],[1,"form-group","local-forms"],[1,"login-danger"],["name","name","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["name","president","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["name","mobile","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["name","email","type","email",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"star-red"],["type","text","name","address",1,"form-control",3,"ngModel","placeholder","disabled","ngModelChange"],["type","text","name","additional_address",1,"form-control",3,"ngModel","placeholder","disabled","ngModelChange"],[1,"form-control","select",3,"ngModel","ngModelOptions","placeholder","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","select",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],["type","text","name","postal_code",1,"form-control",3,"ngModel","placeholder","disabled","ngModelChange"],["class","form-group local-forms",4,"ngIf"],["class","",4,"ngIf"],["class","form-group mb-0 text-end",4,"ngIf"],[1,"col-12","my-4"],[1,"doctor-submit","text-end"],["type","submit",1,"btn","btn-primary","cancel-form",3,"routerLink"],["class","col-md-12 my-4",4,"ngIf"],[3,"value"],[1,"local-top"],[1,"settings-btn","upload-files-avator"],["type","file","accept","image/*","name","image","id","file",1,"hide-input",3,"change"],["for","file",1,"upload"],[1,""],["alt","","width","150px","height","150px",3,"src"],[1,"form-group","mb-0","text-end"],[1,"settings-btns"],["type","submit",1,"border-0","btn","btn-primary","btn-gradient-primary","btn-rounded",3,"click"],[1,"col-md-12","my-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[4,"ngIf"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"li",7),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"li",6),t._uU(12,"Urbanizaci\xf3n"),t.qZA()()()()(),t.TgZ(13,"div",9)(14,"ul",10)(15,"li",11)(16,"a",12),t._uU(17),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"li",13)(20,"a",12),t._uU(21,"Propietarios"),t.qZA()()()(),t.YNc(22,lt,105,72,"div",14),t.qZA()()),2&i&&(t.xp6(7),t.Oqu(t.lcZ(8,5,"club_translations.dashboard")),t.xp6(9),t.Q6J("routerLink",n.routes.club),t.xp6(1),t.Oqu(t.lcZ(18,7,"club_translations.tabs.general_data")),t.xp6(3),t.Q6J("routerLink",t.VKq(9,dt,n.urbanisation_id)),t.xp6(2),t.Q6J("ngIf",1==n.tab_selected))},dependencies:[u.sg,u.O5,m.rH,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,A.gD,T.ey,h.X$]}),s})()}]}];let _t=(()=>{const r=class{};let s=r;return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[m.Bz.forChild(ct),m.Bz]}),s})();var ut=d(25108);let gt=(()=>{const r=class{};let s=r;return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[u.ez,_t,c.u5,c.UX,_.JF,m.Bz,ut.m]}),s})()}}]);